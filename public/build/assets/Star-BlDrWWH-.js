import{b as g,R as r,j as e,L as N}from"./app-DvtTTxMj.js";import{A as u}from"./AuthenticatedLayout-CEFGZkQw.js";function v(){const{asOf:n,filters:d,left:c,right:x,matched:o,rows:m}=g().props,[l,h]=r.useState(d?.from||""),[i,p]=r.useState(d?.to||""),t=s=>Number(s||0).toLocaleString("en-IN",{minimumFractionDigits:0,maximumFractionDigits:0}),j=()=>{const s=new URLSearchParams;l&&s.set("from",l),i&&s.set("to",i);const a=s.toString();return a?`/income/star?${a}`:"/income/star"};return e.jsx(u,{children:e.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-blue-700",children:"Star Rank Income"}),e.jsxs("div",{className:"text-sm text-gray-500",children:["As of: ",n]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white shadow rounded-xl p-4",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Left Volume"}),e.jsx("div",{className:"text-xl font-semibold",children:t(c)})]}),e.jsxs("div",{className:"bg-white shadow rounded-xl p-4",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Right Volume"}),e.jsx("div",{className:"text-xl font-semibold",children:t(x)})]}),e.jsxs("div",{className:"bg-white shadow rounded-xl p-4",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Total Matching Volume"}),e.jsx("div",{className:"text-xl font-semibold",children:t(o)})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"From"}),e.jsx("input",{type:"date",value:l||"",onChange:s=>h(s.target.value),className:"border rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"To"}),e.jsx("input",{type:"date",value:i||"",onChange:s=>p(s.target.value),className:"border rounded px-3 py-2"})]}),e.jsx("a",{href:j(),className:"inline-flex items-center px-4 py-2 rounded bg-black text-white hover:opacity-90",children:"Apply"}),e.jsx(N,{href:"/income/star",className:"inline-flex items-center px-4 py-2 rounded border hover:bg-gray-50",children:"Reset"})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-4 border-b",children:[e.jsx("h2",{className:"font-semibold",children:"Ranks"}),e.jsx("p",{className:"text-xs text-gray-500",children:"The matching volume is counted from both New IDs (Silver, Gold, Diamond packages) and from Re-purchases  "})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-green-600 text-white text-left",children:[e.jsx("th",{className:"px-5 py-3",children:"Rank"}),e.jsx("th",{className:"px-5 py-3",children:"Total Matching Volume"}),e.jsx("th",{className:"px-5 py-3",children:"Income (INR)"}),e.jsx("th",{className:"px-5 py-3",children:"Status"})]})}),e.jsx("tbody",{children:m.map(s=>{const a=s.achieved;return e.jsxs("tr",{className:`border-t ${a?"bg-green-50":""}`,children:[e.jsx("td",{className:"px-5 py-3 font-medium",children:s.name}),e.jsx("td",{className:"px-5 py-3",children:t(s.threshold)}),e.jsx("td",{className:"px-5 py-3",children:t(s.income)}),e.jsx("td",{className:"px-5 py-3",children:a?e.jsx("span",{className:"inline-flex items-center gap-2 text-green-700 font-medium",children:"âœ“ Achieved"}):e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-gray-600",children:"Pending"}),e.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded",children:e.jsx("div",{className:"h-2 bg-green-500 rounded",style:{width:`${s.progress.toFixed(0)}%`},title:`${s.progress.toFixed(0)}%`})}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Need: ",t(s.remaining)]})]})})]},s.no)})})]})})]})]})})}export{v as default};
