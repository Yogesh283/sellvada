import{b as c,j as e,L as n,H as o}from"./app-BMdMyfHw.js";import{A as h}from"./AuthenticatedLayout-KKp7UCPo.js";function p({title:s,id:r,pkg:t}){const l=t==="diamond"?"bg-purple-200 text-purple-800":t==="gold"?"bg-yellow-200 text-yellow-800":t==="silver"?"bg-slate-200 text-slate-700":"bg-gray-100 text-gray-500";return e.jsxs("div",{className:"relative w-[130px]",children:[e.jsxs("div",{className:"mx-auto rounded-xl border bg-white shadow-sm w-[130px] h-[78px] flex items-center justify-center hover:shadow transition",children:[e.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center bg-emerald-100 text-emerald-700",children:e.jsx("span",{className:"text-lg",children:"ðŸ‘¤"})}),e.jsx("div",{className:`absolute top-1 right-1 text-[10px] px-2 py-[2px] rounded-full capitalize whitespace-nowrap max-w-[90px] truncate text-center ${l}`,title:t||"no-pack",children:t??"No-Pack"})]}),e.jsxs("div",{className:"w-full text-center leading-tight mt-1",children:[e.jsx("div",{className:"text-[11px] text-gray-800 truncate px-1",title:s,children:s}),e.jsxs("div",{className:"text-[10px] text-gray-400",children:["#",r]})]})]})}function x({node:s}){const{props:r}=c(),t=r?.type||"placement";if(!s)return null;const l=s.name||s.code||`#${s.id}`,a=s.id,m=d=>{try{return route("team.tree",{root:d,type:t})}catch{return`/team/tree/${d}?type=${t}`}};return e.jsxs("div",{className:"inline-flex flex-col items-center",children:[e.jsx(n,{href:m(a),className:"inline-block cursor-pointer",children:e.jsx(p,{title:l,id:a,pkg:s.package})}),(s.children?.L||s.children?.R)&&e.jsx("div",{className:"w-44 h-4 border-l border-gray-300"}),e.jsxs("div",{className:"flex items-start gap-12",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-24 h-4 border-t border-gray-300"}),s.children?.L?e.jsx(x,{node:s.children.L}):e.jsx("div",{className:"rounded-xl border bg-white shadow-sm w-[130px] h-[78px] flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-xs text-purple-600",children:[e.jsx("div",{className:"text-xl",children:"ðŸ‘¥âž•"}),"Add"]})})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-24 h-4 border-t border-gray-300"}),s.children?.R?e.jsx(x,{node:s.children.R}):e.jsx("div",{className:"rounded-xl border bg-white shadow-sm w-[130px] h-[78px] flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-xs text-purple-600",children:[e.jsx("div",{className:"text-xl",children:"ðŸ‘¥âž•"}),"Add"]})})]})]})]})}const i=({children:s,tone:r="slate"})=>{const t={slate:"bg-slate-100 text-slate-700",yellow:"bg-yellow-100 text-yellow-800",purple:"bg-purple-100 text-purple-800",emerald:"bg-emerald-100 text-emerald-700"};return e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs ${t[r]}`,children:s})},u=({seedId:s,currentType:r})=>{const t=l=>{try{return route("team.tree",{root:s,type:l})}catch{return`/team/tree/${s}?type=${l}`}};return e.jsxs("div",{className:"inline-flex rounded-2xl border bg-white p-1 shadow-sm",children:[e.jsx(n,{href:t("placement"),className:`px-3 py-1.5 rounded-xl text-sm transition ${r==="placement"?"bg-gray-900 text-white":"text-gray-600 hover:bg-gray-100"}`,children:"Placement"}),e.jsx(n,{href:t("referral"),className:`px-3 py-1.5 rounded-xl text-sm transition ${r==="referral"?"bg-gray-900 text-white":"text-gray-600 hover:bg-gray-100"}`,children:"Referral"})]})};function f({root:s=null,counts:r={},seed:t,type:l="placement"}){const{auth:a}=c().props??{};return e.jsxs(h,{user:a?.user,header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Team Tree"}),t&&e.jsxs("div",{className:"text-[11px] text-gray-600",children:["Viewing ",e.jsx("span",{className:"font-medium",children:t.name}),e.jsxs("span",{className:"mx-1",children:["(# ",t.id,")"]}),"â€¢ ",t.code]})]}),t&&e.jsx(u,{seedId:t.id,currentType:l})]}),children:[e.jsx(o,{title:"Team Tree"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2 text-sm text-gray-700",children:[e.jsxs("div",{className:"mr-2",children:["Total Team: ",e.jsx("span",{className:"font-medium",children:r?.total_nodes??0}),e.jsx("span",{className:"mx-2",children:"Â·"}),"Left: ",e.jsx("span",{className:"font-medium",children:r?.left_nodes??0}),e.jsx("span",{className:"mx-2",children:"Â·"}),"Right: ",e.jsx("span",{className:"font-medium",children:r?.right_nodes??0})]}),e.jsxs(i,{tone:"slate",children:["Silver: ",r?.pkg?.silver??0]}),e.jsxs(i,{tone:"yellow",children:["Gold: ",r?.pkg?.gold??0]}),e.jsxs(i,{tone:"purple",children:["Diamond: ",r?.pkg?.diamond??0]}),e.jsxs(i,{tone:"emerald",children:["View: ",l==="placement"?"Placement":"Referral"]})]}),s?e.jsx("div",{className:"overflow-x-auto overflow-y-hidden rounded-xl border bg-white p-6 shadow-sm",children:e.jsx("div",{className:"min-w-[900px]",children:e.jsx(x,{node:s})})}):e.jsx("div",{className:"rounded-xl border bg-white p-8 text-center text-gray-500",children:"No team found."})]})})]})}export{f as default};
