import{b as y,R as n,j as s,L as u}from"./app-DR-Qs_dY.js";import{A as f}from"./AuthenticatedLayout-DB4ouU2z.js";function v(){const{asOf:x,filters:c,totals:l,matrix:o,recent:i}=y().props,m=["silver","gold","diamond","other"],t=e=>Number(e||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),[d,h]=n.useState(c?.from||""),[r,p]=n.useState(c?.to||""),j=()=>{const e=new URLSearchParams;d&&e.set("from",d),r&&e.set("to",r);const a=e.toString();return a?`/income/binary?${a}`:"/income/binary"};return s.jsx(f,{children:s.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Binary Business"}),s.jsxs("div",{className:"text-sm text-gray-500",children:["As of: ",x]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow p-4",children:s.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"From"}),s.jsx("input",{type:"date",value:d||"",onChange:e=>h(e.target.value),className:"border rounded px-3 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"To"}),s.jsx("input",{type:"date",value:r||"",onChange:e=>p(e.target.value),className:"border rounded px-3 py-2"})]}),s.jsx("a",{href:j(),className:"inline-flex items-center px-4 py-2 rounded bg-black text-white hover:opacity-90",children:"Apply"}),s.jsx(u,{href:"/income/binary",className:"inline-flex items-center px-4 py-2 rounded border hover:bg-gray-50",children:"Reset"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow p-5",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Left Business"}),s.jsx("div",{className:"mt-1 text-2xl font-bold",children:t(l?.left)})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow p-5",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Right Business"}),s.jsx("div",{className:"mt-1 text-2xl font-bold",children:t(l?.right)})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:[s.jsx("div",{className:"px-5 py-4 border-b",children:s.jsx("h2",{className:"font-semibold",children:"Rank-wise Summary"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 text-left",children:[s.jsx("th",{className:"px-5 py-3",children:"Rank"}),s.jsx("th",{className:"px-5 py-3",children:"Left Business"}),s.jsx("th",{className:"px-5 py-3",children:"Right Business"}),s.jsx("th",{className:"px-5 py-3",children:"Total"}),s.jsx("th",{className:"px-5 py-3",children:"Orders L"}),s.jsx("th",{className:"px-5 py-3",children:"Orders R"})]})}),s.jsx("tbody",{children:m.map(e=>{const a=o?.[e]||{},N=(a.left||0)+(a.right||0);return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-5 py-3 capitalize",children:e}),s.jsx("td",{className:"px-5 py-3",children:t(a.left)}),s.jsx("td",{className:"px-5 py-3",children:t(a.right)}),s.jsx("td",{className:"px-5 py-3 font-medium",children:t(N)}),s.jsx("td",{className:"px-5 py-3",children:a.orders_left||0}),s.jsx("td",{className:"px-5 py-3",children:a.orders_right||0})]},e)})}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t bg-gray-50",children:[s.jsx("td",{className:"px-5 py-3 font-semibold",children:"Grand Total"}),s.jsx("td",{className:"px-5 py-3 font-semibold",children:t(l?.left)}),s.jsx("td",{className:"px-5 py-3 font-semibold",children:t(l?.right)}),s.jsx("td",{className:"px-5 py-3 font-semibold",children:t((l?.left||0)+(l?.right||0))}),s.jsx("td",{className:"px-5 py-3"}),s.jsx("td",{className:"px-5 py-3"})]})})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:[s.jsx("div",{className:"px-5 py-4 border-b",children:s.jsx("h2",{className:"font-semibold",children:"Recent Paid Orders (Last 20)"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 text-left",children:[s.jsx("th",{className:"px-5 py-3",children:"Date"}),s.jsx("th",{className:"px-5 py-3",children:"Buyer"}),s.jsx("th",{className:"px-5 py-3",children:"Product"}),s.jsx("th",{className:"px-5 py-3",children:"Rank"}),s.jsx("th",{className:"px-5 py-3",children:"Leg"}),s.jsx("th",{className:"px-5 py-3",children:"Amount"})]})}),s.jsxs("tbody",{children:[(i||[]).map((e,a)=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-5 py-3",children:e.created_at}),s.jsxs("td",{className:"px-5 py-3",children:["#",e.buyer_id]}),s.jsx("td",{className:"px-5 py-3",children:e.product}),s.jsx("td",{className:"px-5 py-3 capitalize",children:e.type}),s.jsx("td",{className:"px-5 py-3",children:e.leg}),s.jsx("td",{className:"px-5 py-3",children:t(e.amount)})]},a)),!i?.length&&s.jsx("tr",{children:s.jsx("td",{className:"px-5 py-6 text-center text-gray-500",colSpan:6,children:"No data found."})})]})]})})]})]})})}export{v as default};
