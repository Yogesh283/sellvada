import{a as u,j as e,H as p,L as m,r as j}from"./app-dJNvoSNI.js";import{A as g}from"./AuthenticatedLayout-D2RbLRgA.js";import"./transition-6VIE_6Qx.js";function b({status:s}){const t="px-2 py-0.5 text-xs border rounded-full",l=s==="paid"?"bg-emerald-50 text-emerald-700 border-emerald-300":s==="pending"?"bg-amber-50 text-amber-700 border-amber-300":"bg-rose-50 text-rose-700 border-rose-300";return e.jsx("span",{className:`${t} ${l}`,children:s})}function n(s){return(typeof s=="number"?s:parseFloat(s??0)).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}function N(){const{payouts:s,stats:t,filters:l}=u().props,o=s?.data??[],r=s?.links??[];return e.jsxs(g,{header:e.jsx("h2",{className:"font-semibold text-xl text-slate-800",children:"Payouts"}),children:[e.jsx(p,{title:"Payouts"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(x,{title:"Total Paid",value:`₹ ${n(t.sumPaid)}`}),e.jsx(x,{title:"Pending",value:`₹ ${n(t.sumPending)}`}),e.jsx(x,{title:"Today Paid",value:`₹ ${n(t.todayPaid)}`}),e.jsx(x,{title:"This Month Paid",value:`₹ ${n(t.monthPaid)}`})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(i,{label:"All",qs:{},active:!l.status&&!l.method&&!l.type}),e.jsx(i,{label:"Paid",qs:{status:"paid"},active:l.status==="paid"}),e.jsx(i,{label:"Pending",qs:{status:"pending"},active:l.status==="pending"}),e.jsx("span",{className:"mx-2 h-5 w-px bg-slate-200"}),e.jsx(i,{label:"Closing 1",qs:{method:"closing_1"},active:l.method==="closing_1"}),e.jsx(i,{label:"Closing 2",qs:{method:"closing_2"},active:l.method==="closing_2"}),e.jsx("span",{className:"mx-2 h-5 w-px bg-slate-200"}),e.jsx(i,{label:"Binary Matching",qs:{type:"binary_matching"},active:l.type==="binary_matching"})]}),e.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[e.jsx("thead",{className:"bg-slate-50",children:e.jsxs("tr",{children:[e.jsx(d,{children:"Date"}),e.jsx(d,{children:"Type"}),e.jsx(d,{children:"Method"}),e.jsx(d,{children:"Status"}),e.jsx(d,{className:"text-right",children:"Amount (₹)"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:o.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"py-10 text-center text-slate-500",children:"No payouts found."})}):o.map(a=>e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsx(c,{children:new Date(a.created_at).toLocaleString()}),e.jsx(c,{className:"capitalize",children:a.type?.replaceAll("_"," ")||"-"}),e.jsx(c,{className:"capitalize",children:a.method?.replaceAll("_"," ")||"-"}),e.jsx(c,{children:e.jsx(b,{status:a.status})}),e.jsxs(c,{className:"text-right font-medium",children:["₹ ",n(a.amount)]})]},a.id))})]})}),e.jsx("div",{className:"flex items-center justify-end gap-2",children:r.map((a,h)=>e.jsx(m,{href:a.url||"#",preserveScroll:!0,preserveState:!0,className:`px-3 py-1 rounded-md border border-slate-200 text-sm ${a.active?"bg-slate-100 text-slate-800":"text-slate-600 hover:text-slate-800 hover:bg-slate-50"} ${a.url?"":"opacity-50 pointer-events-none"}`,dangerouslySetInnerHTML:{__html:a.label}},h))})]})})]})}function x({title:s,value:t}){return e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[e.jsx("div",{className:"text-slate-500 text-sm",children:s}),e.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900",children:t})]})}function d({children:s,className:t=""}){return e.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-slate-600 ${t}`,children:s})}function c({children:s,className:t=""}){return e.jsx("td",{className:`px-4 py-3 text-sm text-slate-800 ${t}`,children:s})}function i({label:s,qs:t,active:l}){const o=j.useMemo(()=>{const r=new URL(window.location.href);"status"in t?r.searchParams.set("status",t.status):r.searchParams.delete("status"),"method"in t?r.searchParams.set("method",t.method):r.searchParams.delete("method"),"type"in t?r.searchParams.set("type",t.type):r.searchParams.delete("type");const a=r.searchParams.toString();return r.pathname+(a?"?"+a:"")},[t]);return e.jsx(m,{href:o,preserveScroll:!0,preserveState:!0,className:`px-3 py-1.5 rounded-full text-sm border ${l?"border-slate-300 bg-slate-100 text-slate-900":"border-slate-200 text-slate-600 hover:text-slate-800 hover:bg-slate-50"}`,children:s})}export{N as default};
