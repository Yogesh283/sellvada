import{b as k,r as w,j as e,H as D}from"./app-BxQmbLs5.js";import{A as M}from"./AuthenticatedLayout-CzV_VyBl.js";const d={tealBlue:"bg-gradient-to-r from-cyan-400 to-blue-600",emerald:"bg-gradient-to-r from-emerald-400 to-green-600",orangePink:"bg-gradient-to-r from-orange-400 to-pink-500",purpleIndigo:"bg-gradient-to-r from-purple-500 to-indigo-600",amber:"bg-gradient-to-r from-amber-400 to-yellow-500",sky:"bg-gradient-to-r from-sky-400 to-cyan-600",rose:"bg-gradient-to-r from-rose-500 to-red-600",lime:"bg-gradient-to-r from-lime-400 to-green-600",barEmerald:"bg-gradient-to-r from-green-500 via-emerald-600 to-teal-600"},p=t=>{const a=Number(t);return Number.isNaN(a)?t??"-":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(a)},S=t=>{if(!t)return"-";const a=new Date(t);return Number.isNaN(a.getTime())?"-":a.toLocaleString()},f=t=>t<10?`0${t}`:`${t}`;function x({title:t,value:a="₹0.00",gradient:i=d.emerald,icon:l="💳",actionText:o="View Detail",actionHref:n="#"}){return e.jsx("div",{className:`${i} relative overflow-hidden rounded-lg shadow-md flex flex-col justify-between`,children:e.jsxs("div",{className:"px-4 py-4 sm:px-5 sm:py-5 text-white flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-xs sm:text-sm font-semibold opacity-95",children:t}),e.jsx("div",{className:"text-lg sm:text-xl opacity-90",children:l})]}),e.jsx("div",{className:"mt-3 text-right text-xl sm:text-2xl font-extrabold tabular-nums break-words",children:a}),e.jsx("div",{className:"mt-3",children:e.jsx("a",{href:n,className:"inline-flex items-center rounded-md bg-white/20 px-3 py-1 text-xs sm:text-sm font-semibold hover:bg-white/30 transition",children:o})})]})})}function $({label:t=null,value:a=""}){const[i,l]=w.useState(!1),o=async()=>{try{if(navigator?.clipboard)await navigator.clipboard.writeText(a||"");else{const n=document.createElement("textarea");n.value=a||"",document.body.appendChild(n),n.select(),document.execCommand("copy"),n.remove()}l(!0),setTimeout(()=>l(!1),1400)}catch(n){console.error("Copy failed",n)}};return e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 w-full",children:[t?e.jsx("div",{className:"min-w-[4.5rem] text-sm font-medium text-slate-700",children:t}):null,e.jsx("input",{className:"w-full rounded border border-slate-200 bg-white px-2 sm:px-3 py-1.5 text-sm text-slate-800 font-mono",value:a||"",readOnly:!0}),e.jsx("button",{onClick:o,type:"button",className:`rounded px-2 sm:px-3 py-1.5 text-sm font-semibold transition ${i?"bg-green-600 text-white hover:bg-green-700":"bg-emerald-600 text-white hover:bg-emerald-700"}`,children:i?"Copied!":"Copy"})]})}function C(t,a){return Math.max(0,Math.floor((new Date(a).getTime()-new Date(t).getTime())/1e3))}function b(t){const a=Math.floor(t/86400),i=Math.floor(t%(3600*24)/3600),l=Math.floor(t%3600/60),o=t%60;return a>0?`${a}d ${f(i)}:${f(l)}:${f(o)}`:`${f(i)}:${f(l)}:${f(o)}`}function I({plans:t=[],businessSummary:a={},fristsell:i=null}){const{matched:l}=k().props,[o,n]=w.useState(0);w.useEffect(()=>{const s=setInterval(()=>n(r=>r+1),1e3);return()=>clearInterval(s)},[]);const g=i?.created_at??null,c=g?new Date(g):null,T=Number(a.left||0)+Number(a.right||0),u=t.reduce((s,r)=>Math.max(s,r.volumeNumber??0),0),N=t.map(s=>{if(!c)return{...s,status:"no_sell",remainingSecs:0,endDate:null};const r=new Date(c.getTime()+(s.daysNumber||0)*24*3600*1e3),m=C(new Date().toISOString(),r);return m>0?{...s,status:"active",remainingSecs:m,endDate:r}:{...s,status:"expired",remainingSecs:0,endDate:r}}),j=N.filter(s=>s.status==="active"),h=j.length?j.reduce((s,r)=>s.remainingSecs<r.remainingSecs?s:r):null,v=h?h.remainingSecs:0;return e.jsxs("div",{className:"rounded-lg bg-white shadow-sm overflow-hidden border border-slate-200",children:[e.jsx("div",{className:`${d.barEmerald} px-4 py-3 text-white font-semibold text-center`,children:"Cell Veda — Business Growth Rewards"}),e.jsxs("div",{className:"p-4",children:[c?h?e.jsxs("div",{className:"mb-6 flex flex-col items-center justify-center gap-2 text-center",children:[e.jsx("div",{className:"text-slate-600 text-xs sm:text-sm",children:"This countdown is running from the date of your first purchase (First Sell)"}),e.jsx("div",{className:"text-3xl sm:text-5xl lg:text-6xl font-extrabold tabular-nums text-green-600 break-words",children:b(v)}),e.jsxs("div",{className:"text-xs sm:text-sm text-slate-500",children:["Expires: ",S(h.endDate)]})]}):e.jsxs("div",{className:"mb-6 flex flex-col items-center justify-center gap-2 text-center",children:[e.jsx("div",{className:"text-slate-600 text-xs sm:text-sm",children:"This countdown is running from the date of your first purchase (First Sell)"}),e.jsx("div",{className:"text-3xl sm:text-5xl lg:text-6xl font-extrabold tabular-nums text-gray-600 break-words",children:b(0)}),e.jsx("div",{className:"text-xs sm:text-sm text-slate-500",children:"No active reward window"})]}):e.jsxs("div",{className:"mb-6 flex flex-col items-center justify-center gap-2 text-center",children:[e.jsx("div",{className:"text-slate-600 text-xs sm:text-sm",children:"This timer will start when you make your first purchase — no first purchase found yet.            "}),e.jsx("div",{className:"text-3xl sm:text-5xl lg:text-6xl font-extrabold tabular-nums text-gray-500 break-words",children:b(0)}),e.jsx("div",{className:"text-xs sm:text-sm text-slate-500",children:"No First Sell found — Timer 00:00:00"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-2 gap-1",children:[e.jsx("div",{className:"text-sm font-medium text-slate-700",children:"Team Business"}),e.jsx("div",{className:"text-sm font-medium text-slate-600",children:p(l)})]}),e.jsx("div",{className:"w-full bg-slate-100 h-3 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-3 rounded-full transition-all duration-500",style:{width:`${u>0?Math.min(100,Math.round(T/u*100)):0}%`,background:T===l?"linear-gradient(90deg,#2563eb,#3b82f6)":"linear-gradient(90deg,#059669,#10b981)"}})}),e.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Progress towards highest plan (",u?p(u):"-",")"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm text-center border border-slate-200",children:[e.jsx("thead",{className:"bg-slate-50",children:e.jsxs("tr",{className:"border-b text-slate-700",children:[e.jsx("th",{className:"py-2 px-2",children:"Timeline"}),e.jsx("th",{className:"py-2 px-2",children:"Business Volume"}),e.jsx("th",{className:"py-2 px-2",children:"Reward"}),e.jsx("th",{className:"py-2 px-2",children:"Remaining Time"})]})}),e.jsx("tbody",{children:N.map((s,r)=>{let m="-",y="text-slate-600";return s.status==="active"?(m=b(s.remainingSecs),y="text-green-600 font-semibold"):s.status==="expired"?(m="Expired",y="text-red-600 font-semibold"):s.status==="no_sell"&&(m=b(0),y="text-gray-500"),e.jsxs("tr",{className:"border-b last:border-0",children:[e.jsxs("td",{className:"py-2 px-2 font-medium",children:[s.days," Days"]}),e.jsx("td",{className:"py-2 px-2",children:s.volume}),e.jsx("td",{className:"py-2 px-2 font-bold text-emerald-600",children:p(s.reward)}),e.jsx("td",{className:`py-2 px-2 ${y}`,children:m})]},r)})})]})})]})]})}function P(){const t=k().props,a=p(t?.wallet_amount??0),i=p(t?.payout_wallet??0),l=t?.total_team??0,o=t?.current_plan??"-",{left:n,right:g}=k().props,{user:c={},stats:T={},ref_link:u="#",businessSummary:N={left:0,right:0}}=t,j=c?.name??"-",h=c?.id??"-",v=t?.fristsell??null,s=v?.created_at??c?.created_at,r=S(s),m=w.useMemo(()=>[{days:"30",daysNumber:30,volume:"₹3,00,000",volumeNumber:3e5,reward:1e4},{days:"60",daysNumber:60,volume:"₹10,00,000",volumeNumber:1e6,reward:5e4},{days:"100",daysNumber:100,volume:"₹30,00,000",volumeNumber:3e6,reward:15e4},{days:"150",daysNumber:150,volume:"₹60,00,000",volumeNumber:6e6,reward:4e5},{days:"200",daysNumber:200,volume:"₹1,50,00,000",volumeNumber:15e6,reward:15e5}],[]);return e.jsxs(M,{header:e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800",children:"Dashboard"}),children:[e.jsx(D,{title:"Dashboard"}),e.jsxs("div",{className:"mx-auto max-w-[1400px] px-2 sm:px-6 lg:px-8 py-6 space-y-6",children:[e.jsx("div",{className:"rounded-md bg-white shadow-sm ring-1 ring-slate-100",children:e.jsxs("div",{className:"p-3 sm:p-4",children:[e.jsxs("div",{className:"text-slate-900 font-semibold mb-3 text-base sm:text-lg",children:["Welcome ",j]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx("table",{className:"min-w-full text-xs sm:text-sm text-center border border-slate-200",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"px-2 py-2 font-medium text-slate-700",children:"User ID"}),e.jsx("td",{className:"px-2 py-2 font-mono text-slate-900",children:h})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"px-2 py-2 font-medium text-slate-700",children:"Active Plan"}),e.jsx("td",{className:"px-2 py-2 font-mono text-slate-900 capitalize",children:o})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"px-2 py-2 font-medium text-slate-700",children:"Joined"}),e.jsx("td",{className:"px-2 py-2",children:r})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-2 py-2 font-medium text-slate-700",children:"Signup Link"}),e.jsx("td",{className:"px-2 py-2",children:e.jsx($,{value:u})})]})]})})}),e.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:justify-end gap-2",children:[e.jsx("a",{href:"/profile",className:"rounded bg-sky-600 px-3 py-2 text-white text-sm font-semibold hover:bg-sky-700 text-center",children:"View Profile"}),e.jsx("a",{href:"/team",className:"rounded bg-emerald-600 px-3 py-2 text-white text-sm font-semibold hover:bg-emerald-700 text-center",children:"My Team"}),e.jsx("a",{href:"/team/tree",className:"rounded bg-emerald-600 px-3 py-2 text-white text-sm font-semibold hover:bg-emerald-700 text-center",children:"Tree"})]})]})}),e.jsxs("div",{className:`relative rounded-lg ${d.purpleIndigo} shadow-sm overflow-hidden border border-slate-200 p-4`,children:[e.jsx("p",{className:"text-center text-lg sm:text-2xl text-white",children:"Star Rank Value"}),e.jsx("button",{className:"absolute top-3 sm:top-4 right-3 sm:right-4 rounded bg-white px-3 sm:px-5 py-1.5 sm:py-2 text-pink-500 text-xs sm:text-sm font-semibold hover:bg-slate-200",children:e.jsx("a",{href:"/income/star",className:"font-bold",children:"View"})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-6 sm:mt-8",children:[e.jsxs("div",{className:"bg-white shadow rounded-xl p-4 sm:p-6 w-full",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Left Volume"}),e.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:Number(n)})]}),e.jsxs("div",{className:"bg-white shadow rounded-xl p-4 sm:p-6 w-full",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Right Volume"}),e.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:Number(g)})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(x,{title:"Fresh Matching",value:"",icon:"🧮",actionHref:"/income/binary",gradient:d.orangePink}),e.jsx(x,{title:"VIP Repurchase Salary",value:"",icon:"📍",actionHref:"/income/vip-repurchase-salary",gradient:d.amber}),e.jsx(x,{title:"Wallet Balance",value:a,icon:"👛",gradient:d.tealBlue}),e.jsx(x,{title:"Total Income",value:i,icon:"💼",actionHref:"/payouts",gradient:d.emerald}),e.jsx(x,{title:"MY PROFILE",value:"",icon:"👤",actionHref:"/profile",gradient:d.sky}),e.jsx(x,{title:"MY INCOME",value:"",icon:"₹",actionHref:"/income",gradient:d.rose}),e.jsx(x,{title:"MY TEAM",value:l,icon:"👥",actionHref:"/team",gradient:d.lime})]}),e.jsx(I,{plans:m,businessSummary:N,fristsell:v}),e.jsx("div",{className:`${d.barEmerald} rounded-lg py-8 text-center text-white shadow-md`,children:e.jsx("div",{className:"text-2xl font-bold",children:"“ News ”"})})]})]})}export{P as default};
