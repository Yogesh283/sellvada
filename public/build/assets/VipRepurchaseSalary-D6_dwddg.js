import{R as y,j as e,H as w,a as k}from"./app-DJiTfUFz.js";import{A as M}from"./AuthenticatedLayout-B3YHwqPm.js";const l=t=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(Number(t||0)),c=t=>{const s=Number(t||0);return s>=1e7?`${(s/1e7).toFixed(2)} Cr`:s>=1e5?`${(s/1e5).toFixed(2)} Lac`:s>=1e3?`${(s/1e3).toFixed(2)} K`:`${s}`};function $({slabs:t=[{rank:"VIP 1",volume:3e4,salary:1e3},{rank:"VIP 2",volume:1e5,salary:3e3},{rank:"VIP 3",volume:2e5,salary:5e3},{rank:"VIP 4",volume:5e5,salary:1e4},{rank:"VIP 5",volume:1e6,salary:25e3},{rank:"VIP 6",volume:2e6,salary:5e4},{rank:"VIP 7",volume:5e6,salary:1e5}],summary:s={left:0,right:0,matched:0,achieved_rank:null,paid_this_month:0,due:null},month:u=""}){const[g,b]=y.useState(u||new Date().toISOString().slice(0,7)),N=a=>{const i=a.target.value;b(i),k.visit(`/income/vip-repurchase-salary?month=${encodeURIComponent(i)}`,{preserveScroll:!0,preserveState:!0})},r=s?.achieved_rank??null,p=t.map(a=>a.volume).filter(a=>(s?.matched||0)>=a).length-1,n=t[p+1]||null,v=(t[Math.max(p,0)]||t[0])?.volume||1,j=n?Math.min(100,Math.round((s?.matched-v)/(n.volume-v)*100)):100;return e.jsxs(M,{header:e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-900",children:"VIP Repurchase Salary"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Monthly matching volumes decide your VIP rank & 3-month salary."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-xs text-gray-600"}),e.jsx("input",{type:"month",value:g,onChange:N,className:"w-[160px] rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/30"})]})]}),children:[e.jsx(w,{title:"VIP Repurchase Salary"}),e.jsxs("div",{className:"mx-auto max-w-6xl px-3 sm:px-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-indigo-600 via-violet-600 to-fuchsia-600 p-4 sm:p-6 text-white shadow-sm",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs/6 opacity-95",children:"Selected Month"}),e.jsx("div",{className:"text-xl sm:text-2xl font-bold tracking-tight",children:g})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 xs:grid-cols-2 lg:grid-cols-4 min-w-[220px]",children:[e.jsx(o,{label:"Left Volume",value:l(s?.left||0)}),e.jsx(o,{label:"Right Volume",value:l(s?.right||0)}),e.jsx(o,{label:"Matched",value:l(s?.matched||0)}),e.jsx(o,{label:"Paid This Month",value:l(s?.paid_this_month||0)})]})]}),e.jsxs("div",{className:"mt-5 rounded-xl bg-white/10 p-3 sm:p-4 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between text-[11px] sm:text-xs",children:[e.jsx("div",{className:"font-medium",children:r?`Current Rank: ${r}`:"Current Rank: â€”"}),e.jsx("div",{className:"opacity-90",children:n?`Next: ${n.rank} at ${l(n.volume)}`:"Max rank achieved"})]}),e.jsx("div",{className:"mt-2 h-2 w-full overflow-hidden rounded-full bg-white/20",children:e.jsx("div",{className:"h-full rounded-full bg-white shadow-[0_0_10px_rgba(255,255,255,0.4)]",style:{width:`${j}%`},title:`${j}%`})})]}),e.jsx("div",{className:"mt-3",children:r?e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-500/20 px-3 py-1.5 text-[13px] font-medium ring-1 ring-emerald-400/40",children:[e.jsx("span",{children:"ðŸŽ‰"}),e.jsxs("span",{children:["Congrats! You achieved ",e.jsx("b",{children:r})," in ",e.jsx("b",{children:g}),"."]})]}):e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/15 px-3 py-1.5 text-[13px] font-medium ring-1 ring-white/30",children:[e.jsx("span",{children:"ðŸ“ˆ"}),e.jsx("span",{children:"Keep pushing to unlock the next VIP rank."})]})}),e.jsx("div",{className:"pointer-events-none absolute -right-16 -top-16 h-48 w-48 rounded-full bg-white/20 blur-2xl"})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(x,{title:"Left Volume (Monthly)",main:l(s?.left||0),sub:`(${c(s?.left||0)})`}),e.jsx(x,{title:"Right Volume (Monthly)",main:l(s?.right||0),sub:`(${c(s?.right||0)})`}),e.jsx(x,{title:"Matched Volume (Monthly)",main:l(s?.matched||0),sub:"min(Left, Right)"}),e.jsx(x,{title:"Paid This Month",main:l(s?.paid_this_month||0),sub:s?.due&&!s?.due?.paid_at?`Due: ${l(s?.due?.amount)} (installment)`:"â€”"})]}),e.jsxs("div",{className:"mt-6 overflow-hidden rounded-2xl border border-gray-200 bg-white shadow-sm",children:[e.jsx("div",{className:"bg-relative overflow-hidden rounded-2xl bg-gradient-to-r from-indigo-600 via-violet-600 to-fuchsia-600 p-4 sm:p-6 text-white shadow-sm backdrop-blur text-left",children:"Salary Slabs (3 Months)"}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"sticky top-0 z-10",children:e.jsxs("tr",{className:"bg-white/80 backdrop-blur text-left text-gray-600",children:[e.jsx(m,{className:"w-36 rounded-tl-2xl",children:"Rank"}),e.jsx(m,{children:"Monthly Matching Volume"}),e.jsx(m,{children:"Salary"}),e.jsx(m,{className:"w-28 text-center rounded-tr-2xl",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map((a,i)=>{const d=(s?.matched||0)>=a.volume;return e.jsxs("tr",{className:`transition-colors ${d?"bg-emerald-50/70 hover:bg-emerald-50":i%2?"bg-gray-50/60 hover:bg-gray-50":"hover:bg-gray-50/60"}`,children:[e.jsx(h,{className:"font-semibold",children:a.rank}),e.jsxs(h,{className:"whitespace-nowrap",children:[e.jsx("span",{className:"font-mono",children:l(a.volume)})," ",e.jsxs("span",{className:"text-gray-500",children:["(",c(a.volume),")"]})]}),e.jsx(h,{className:"whitespace-nowrap font-semibold",children:e.jsx("span",{className:"font-mono",children:l(a.salary)})}),e.jsx(h,{className:"text-center",children:e.jsx(f,{hit:d})})]},i)})})]})}),e.jsx("div",{className:"md:hidden divide-y",children:t.map((a,i)=>{const d=(s?.matched||0)>=a.volume;return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-semibold",children:a.rank}),e.jsx(f,{hit:d})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-[13px]",children:[e.jsx("div",{className:"text-gray-500",children:"Monthly Matching"}),e.jsxs("div",{className:"text-right font-medium",children:[e.jsx("span",{className:"font-mono",children:l(a.volume)})," ",e.jsxs("span",{className:"text-gray-500",children:["(",c(a.volume),")"]})]}),e.jsx("div",{className:"text-gray-500",children:"Salary"}),e.jsx("div",{className:"text-right font-semibold",children:e.jsx("span",{className:"font-mono",children:l(a.salary)})})]})]},i)})})]}),e.jsxs("div",{className:"mt-4 mb-8 rounded-xl border border-amber-200 bg-amber-50 p-4 text-sm text-amber-800",children:[e.jsx("b",{children:"Note:"})," VIP salary is paid for 3 months once a slab is achieved. Matching volume is calculated as"," ",e.jsx("i",{children:"min(Left, Right)"})," for the selected month."]})]})]})}function o({label:t,value:s}){return e.jsxs("div",{className:"rounded-xl bg-white/10 px-4 py-3 text-white shadow-sm ring-1 ring-white/20",children:[e.jsx("div",{className:"text-[11px] opacity-90",children:t}),e.jsx("div",{className:"truncate text-lg font-semibold",title:s,children:s})]})}function f({hit:t}){return e.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-xs font-semibold ${t?"bg-emerald-100 text-emerald-700 ring-1 ring-emerald-200":"bg-gray-100 text-gray-600 ring-1 ring-gray-200"}`,children:t?"Achieved":"Pending"})}function x({title:t,main:s,sub:u}){return e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500",children:t}),e.jsx("div",{className:"mt-1 text-xl font-semibold text-gray-900",children:s}),e.jsx("div",{className:"text-xs text-gray-500",children:u})]})}function m({children:t,className:s=""}){return e.jsx("th",{className:`px-4 py-3 text-xs font-semibold uppercase tracking-wide ${s}`,children:t})}function h({children:t,className:s=""}){return e.jsx("td",{className:`px-4 py-3 text-gray-800 ${s}`,children:t})}export{$ as default};
