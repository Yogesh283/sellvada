import{b as p,j as e,H as j,L as h,r as g}from"./app-BnJKn7F6.js";import{A as b}from"./AuthenticatedLayout-HtTPgyW3.js";function m({status:a}){const t="px-2 py-0.5 text-xs border rounded-full",l=a==="paid"?"bg-emerald-50 text-emerald-700 border-emerald-300":a==="pending"?"bg-amber-50 text-amber-700 border-amber-300":"bg-rose-50 text-rose-700 border-rose-300";return e.jsx("span",{className:`${t} ${l}`,children:a})}function d(a){return(typeof a=="number"?a:parseFloat(a??0)).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}function y(){const{payouts:a,stats:t,filters:l}=p().props,i=a?.data??[],r=a?.links??[];return e.jsxs(b,{header:e.jsx("h2",{className:"font-semibold text-xl text-slate-800",children:"Payouts"}),children:[e.jsx(j,{title:"Payouts"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(x,{title:"Total Paid",value:`₹ ${d(t.sumPaid)}`}),e.jsx(x,{title:"Pending",value:`₹ ${d(t.sumPending)}`}),e.jsx(x,{title:"Today Paid",value:`₹ ${d(t.todayPaid)}`}),e.jsx(x,{title:"This Month Paid",value:`₹ ${d(t.monthPaid)}`})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[e.jsx(n,{label:"All",qs:{},active:!l.status&&!l.method&&!l.type}),e.jsx(n,{label:"Paid",qs:{status:"paid"},active:l.status==="paid"}),e.jsx(n,{label:"Pending",qs:{status:"pending"},active:l.status==="pending"}),e.jsx("span",{className:"mx-2 h-5 w-px bg-slate-200 hidden sm:block"}),e.jsx(n,{label:"Closing 1",qs:{method:"closing_1"},active:l.method==="closing_1"}),e.jsx(n,{label:"Closing 2",qs:{method:"closing_2"},active:l.method==="closing_2"}),e.jsx("span",{className:"mx-2 h-5 w-px bg-slate-200 hidden sm:block"}),e.jsx(n,{label:"Binary Matching",qs:{type:"binary_matching"},active:l.type==="binary_matching"})]}),e.jsx("div",{className:"hidden sm:block overflow-hidden rounded-2xl border border-slate-200 bg-white",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[e.jsx("thead",{className:"bg-slate-50",children:e.jsxs("tr",{children:[e.jsx(c,{children:"Date"}),e.jsx(c,{children:"Type"}),e.jsx(c,{children:"Method"}),e.jsx(c,{children:"Status"}),e.jsx(c,{className:"text-right",children:"Amount (₹)"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"py-10 text-center text-slate-500",children:"No payouts found."})}):i.map(s=>e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsx(o,{children:new Date(s.created_at).toLocaleString()}),e.jsx(o,{className:"capitalize",children:s.type?.replaceAll("_"," ")||"-"}),e.jsx(o,{className:"capitalize",children:s.method?.replaceAll("_"," ")||"-"}),e.jsx(o,{children:e.jsx(m,{status:s.status})}),e.jsxs(o,{className:"text-right font-medium",children:["₹ ",d(s.amount)]})]},s.id))})]})}),e.jsx("div",{className:"grid sm:hidden gap-3",children:i.length===0?e.jsx("div",{className:"text-center text-slate-500 py-6 bg-white rounded-lg border",children:"No payouts found."}):i.map(s=>e.jsxs("div",{className:"bg-white rounded-xl border p-4 shadow-sm space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-slate-500",children:[e.jsx("span",{children:new Date(s.created_at).toLocaleDateString()}),e.jsx(m,{status:s.status})]}),e.jsx("div",{className:"text-slate-800 font-medium capitalize",children:s.type?.replaceAll("_"," ")||"-"}),e.jsxs("div",{className:"text-xs text-slate-500 capitalize",children:["Method: ",s.method?.replaceAll("_"," ")||"-"]}),e.jsxs("div",{className:"text-lg font-bold text-right text-emerald-700",children:["₹ ",d(s.amount)]})]},s.id))}),e.jsx("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:r.map((s,u)=>e.jsx(h,{href:s.url||"#",preserveScroll:!0,preserveState:!0,className:`px-3 py-1 rounded-md border border-slate-200 text-sm ${s.active?"bg-slate-100 text-slate-800":"text-slate-600 hover:text-slate-800 hover:bg-slate-50"} ${s.url?"":"opacity-50 pointer-events-none"}`,dangerouslySetInnerHTML:{__html:s.label}},u))})]})})]})}function x({title:a,value:t}){return e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 text-center sm:text-left",children:[e.jsx("div",{className:"text-slate-500 text-sm",children:a}),e.jsx("div",{className:"mt-1 text-lg sm:text-2xl font-semibold text-slate-900",children:t})]})}function c({children:a,className:t=""}){return e.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-slate-600 ${t}`,children:a})}function o({children:a,className:t=""}){return e.jsx("td",{className:`px-4 py-3 text-sm text-slate-800 ${t}`,children:a})}function n({label:a,qs:t,active:l}){const i=g.useMemo(()=>{const r=new URL(window.location.href);"status"in t?r.searchParams.set("status",t.status):r.searchParams.delete("status"),"method"in t?r.searchParams.set("method",t.method):r.searchParams.delete("method"),"type"in t?r.searchParams.set("type",t.type):r.searchParams.delete("type");const s=r.searchParams.toString();return r.pathname+(s?"?"+s:"")},[t]);return e.jsx(h,{href:i,preserveScroll:!0,preserveState:!0,className:`px-3 py-1.5 rounded-full text-sm border ${l?"border-slate-300 bg-slate-100 text-slate-900":"border-slate-200 text-slate-600 hover:text-slate-800 hover:bg-slate-50"}`,children:a})}export{y as default};
